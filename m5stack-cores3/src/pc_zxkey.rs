
use rustzx_core::zx::keys::ZXKey;

use crate::zx_event::Event;

use pc_keyboard::{layouts, HandleControl, ScancodeSet2, KeyEvent, KeyCode};
/// returns ZX Spectum key form scancode of None if not found
// pub fn ascii_code_to_zxkey(ascii_code: u8, pressed: bool) -> Option<Event> {

pub(crate) fn pc_code_to_zxkey(keycode: KeyCode, pressed:bool) -> Option<Event> {
    let zxkey_event:Option<ZXKey> = match keycode {
        // KeyCode::ArrowUp => Some('7'),
        // KeyCode::ArrowDown => Some('6'),
        // KeyCode::ArrowRight => Some('8'),
        // KeyCode::ArrowLeft => Some('5'),
        // KeyCode::Backspace => Some('\x08'),
        // KeyCode::Tab => Some('\t'),
        // KeyCode::Return => Some('\n'),
        // KeyCode::Escape => Some('\x1B'),
        // KeyCode::Home => Some('H'),
        // KeyCode::End => Some('F'),
        // KeyCode::PageUp => Some('I'),
        // KeyCode::PageDown => Some('G'),
        // KeyCode::Insert => Some('L'),
        // KeyCode::Delete => Some('M'),
        // KeyCode::F1 => Some('P'),
        // KeyCode::F2 => Some('Q'),
        // KeyCode::F3 => Some('R'),
        // KeyCode::F4 => Some('S'),
        // KeyCode::F5 => Some('T'),
        // KeyCode::F6 => Some('U'),
        // KeyCode::F7 => Some('V'),
        // KeyCode::F8 => Some('W'),
        // KeyCode::F9 => Some('X'),
        // KeyCode::F10 => Some('Y'),
        // KeyCode::F11 => Some('Z'),
        // KeyCode::F12 => Some('['),
        // KeyCode::PrintScreen => Some(']'),
        // KeyCode::PauseBreak => Some('\\'),
        // KeyCode::CapsLock => Some('`'),
        // KeyCode::LAlt => Some('~'),
        // KeyCode::ScrollLock => Some('!'),
        // KeyCode::BackTick => Some('@'),
        // KeyCode::Minus => Some('#'),
        // KeyCode::Equal => Some('$'),
        // KeyCode::LeftSquareBracket => Some('%'),
        // KeyCode::RightSquareBracket => Some('^'),
        // KeyCode::BackSlash => Some('&'),
        // KeyCode::Semicolon => Some(';'),
        // KeyCode::Quote => Some('*'),
        // KeyCode::Comma => Some('('),
        // KeyCode::Slash => Some('_'),
        KeyCode::Spacebar => Some(ZXKey::Space),
        KeyCode::Key1 => Some(ZXKey::N1),
        KeyCode::Key2 => Some(ZXKey::N2),
        KeyCode::Key3 => Some(ZXKey::N3),
        KeyCode::Key4 => Some(ZXKey::N4),
        KeyCode::Key5 => Some(ZXKey::N5),
        KeyCode::Key6 => Some(ZXKey::N6),
        KeyCode::Key7 => Some(ZXKey::N7),
        KeyCode::Key8 => Some(ZXKey::N8),
        KeyCode::Key9 => Some(ZXKey::N9),
        KeyCode::Key0 => Some(ZXKey::N0),
        KeyCode::Escape => todo!(),
        KeyCode::F1 => todo!(),
        KeyCode::F2 => todo!(),
        KeyCode::F3 => todo!(),
        KeyCode::F4 => todo!(),
        KeyCode::F5 => todo!(),
        KeyCode::F6 => todo!(),
        KeyCode::F7 => todo!(),
        KeyCode::F8 => todo!(),
        KeyCode::F9 => todo!(),
        KeyCode::F10 => todo!(),
        KeyCode::F11 => todo!(),
        KeyCode::F12 => todo!(),
        KeyCode::PrintScreen => todo!(),
        KeyCode::SysRq => todo!(),
        KeyCode::ScrollLock => todo!(),
        KeyCode::PauseBreak => todo!(),
        KeyCode::Oem8 => todo!(),
        KeyCode::OemMinus => todo!(),
        KeyCode::OemPlus => todo!(),
        KeyCode::Backspace => todo!(),
        KeyCode::Insert => todo!(),
        KeyCode::Home => todo!(),
        KeyCode::PageUp => todo!(),
        KeyCode::NumpadLock => todo!(),
        KeyCode::NumpadDivide => todo!(),
        KeyCode::NumpadMultiply => todo!(),
        KeyCode::NumpadSubtract => todo!(),
        KeyCode::Tab => todo!(),
        KeyCode::Q => Some(ZXKey::Q),
        KeyCode::W => Some(ZXKey::W),
        KeyCode::E => Some(ZXKey::E),
        KeyCode::R => Some(ZXKey::R),
        KeyCode::T => Some(ZXKey::T),
        KeyCode::Y => Some(ZXKey::Y),
        KeyCode::U => Some(ZXKey::U),
        KeyCode::I => Some(ZXKey::I),
        KeyCode::O => Some(ZXKey::O),
        KeyCode::P => Some(ZXKey::P),
        KeyCode::Oem4 => todo!(),
        KeyCode::Oem6 => todo!(),
        KeyCode::Oem5 => todo!(),
        KeyCode::Oem7 => todo!(),
        KeyCode::Delete => todo!(),
        KeyCode::End => todo!(),
        KeyCode::PageDown => todo!(),
        KeyCode::Numpad7 => todo!(),
        KeyCode::Numpad8 => todo!(),
        KeyCode::Numpad9 => todo!(),
        KeyCode::NumpadAdd => todo!(),
        KeyCode::CapsLock => todo!(),
        KeyCode::A => Some(ZXKey::A),
        KeyCode::S => Some(ZXKey::S),
        KeyCode::D => Some(ZXKey::D),
        KeyCode::F => Some(ZXKey::F),
        KeyCode::G => Some(ZXKey::G),
        KeyCode::H => Some(ZXKey::H),
        KeyCode::J => Some(ZXKey::J),
        KeyCode::K => Some(ZXKey::K),
        KeyCode::L => Some(ZXKey::L),
        KeyCode::Oem1 => todo!(),
        KeyCode::Oem3 => todo!(),
        KeyCode::Return => todo!(),
        KeyCode::Numpad4 => todo!(),
        KeyCode::Numpad5 => todo!(),
        KeyCode::Numpad6 => todo!(),
        KeyCode::LShift => todo!(),
        KeyCode::Z => Some(ZXKey::Z),
        KeyCode::X => Some(ZXKey::X),
        KeyCode::C => Some(ZXKey::C),
        KeyCode::V => Some(ZXKey::V),
        KeyCode::B => Some(ZXKey::B),
        KeyCode::N => Some(ZXKey::N),
        KeyCode::M => Some(ZXKey::M),
        KeyCode::OemComma => todo!(),
        KeyCode::OemPeriod => todo!(),
        KeyCode::Oem2 => todo!(),
        KeyCode::RShift => todo!(),
        KeyCode::ArrowUp => todo!(),
        KeyCode::Numpad1 => todo!(),
        KeyCode::Numpad2 => todo!(),
        KeyCode::Numpad3 => todo!(),
        KeyCode::NumpadEnter => todo!(),
        KeyCode::LControl => todo!(),
        KeyCode::LWin => todo!(),
        KeyCode::LAlt => todo!(),
        KeyCode::RAltGr => todo!(),
        KeyCode::RWin => todo!(),
        KeyCode::Apps => todo!(),
        KeyCode::RControl => todo!(),
        KeyCode::ArrowLeft => todo!(),
        KeyCode::ArrowDown => todo!(),
        KeyCode::ArrowRight => todo!(),
        KeyCode::Numpad0 => todo!(),
        KeyCode::NumpadPeriod => todo!(),
        KeyCode::Oem9 => todo!(),
        KeyCode::Oem10 => todo!(),
        KeyCode::Oem11 => todo!(),
        KeyCode::Oem12 => todo!(),
        KeyCode::Oem13 => todo!(),
        KeyCode::PrevTrack => todo!(),
        KeyCode::NextTrack => todo!(),
        KeyCode::Mute => todo!(),
        KeyCode::Calculator => todo!(),
        KeyCode::Play => todo!(),
        KeyCode::Stop => todo!(),
        KeyCode::VolumeDown => todo!(),
        KeyCode::VolumeUp => todo!(),
        KeyCode::WWWHome => todo!(),
        KeyCode::PowerOnTestOk => todo!(),
        KeyCode::TooManyKeys => todo!(),
        KeyCode::RControl2 => todo!(),
        KeyCode::RAlt2 => todo!(),
        // KeyCode::A => Some('a'),
        // KeyCode::B => Some('b'),
        // KeyCode::C => Some('c'),
        // KeyCode::D => Some('d'),
        // KeyCode::E => Some('e'),
        // KeyCode::F => Some('f'),
        // KeyCode::SysRq => None,
        // KeyCode::Oem8 => None,
        // KeyCode::OemMinus => None,
        // KeyCode::OemPlus => None,
        // KeyCode::NumpadLock => None,
        // KeyCode::NumpadDivide => None,
        // KeyCode::NumpadMultiply => None,
        // KeyCode::NumpadSubtract => None,
        // KeyCode::Q => Some('q'),
        // KeyCode::W => Some('w'),
        // KeyCode::R => Some('r'),
        // KeyCode::T => Some('s'),
        // KeyCode::Y => Some('t'),
        // KeyCode::U => Some('y'),
        // KeyCode::I => Some('i'),
        // KeyCode::O => Some('o'),
        // KeyCode::P => Some('p'),
        // KeyCode::Oem4 => None,
        // KeyCode::Oem6 => None,
        // KeyCode::Oem5 => None,
        // KeyCode::Oem7 => None,
        // KeyCode::Numpad7 => Some('7'),
        // KeyCode::Numpad8 => Some('8'),
        // KeyCode::Numpad9 => Some('9'),
        // KeyCode::NumpadAdd => Some('+'),
        // KeyCode::S => Some('s'),
        // KeyCode::G => Some('g'),
        // KeyCode::H => Some('h'),
        // KeyCode::J => Some('j'),
        // KeyCode::K => Some('k'),
        // KeyCode::L => Some('l'),
        // KeyCode::Oem1 => None,
        // KeyCode::Oem3 => None,
        // KeyCode::Numpad4 => Some('4'),
        // KeyCode::Numpad5 => Some('5'),
        // KeyCode::Numpad6 => Some('6'),
        // KeyCode::LShift => None,
        // KeyCode::Z => Some('z'),
        // KeyCode::X => Some('x'),
        // KeyCode::V => Some('v'),
        // KeyCode::N => Some('n'),
        // KeyCode::M => Some('m'),
        // KeyCode::OemComma => Some(','),
        // KeyCode::OemPeriod => Some('.'),
        // KeyCode::Oem2 => None,
        // KeyCode::RShift => None,
        // KeyCode::Numpad1 => Some('1'),
        // KeyCode::Numpad2 => Some('2'),
        // KeyCode::Numpad3 => Some('3'),
        // KeyCode::NumpadEnter => Some('\n'),
        // KeyCode::LControl => None,
        // KeyCode::LWin => None,
        // KeyCode::RAltGr => None,
        // KeyCode::RWin => None,
        // KeyCode::Apps => None,
        // KeyCode::RControl => None,
        // KeyCode::Numpad0 => None,
        // KeyCode::NumpadPeriod => None,
        // KeyCode::Oem9 => None,
        // KeyCode::Oem10 => None,
        // KeyCode::Oem11 => None,
        // KeyCode::Oem12 => None,
        // KeyCode::Oem13 => None,
        // KeyCode::PrevTrack => None,
        // KeyCode::NextTrack => None,
        // KeyCode::Mute => None,
        // KeyCode::Calculator => None,
        // KeyCode::Play => None,
        // KeyCode::Stop => None,
        // KeyCode::VolumeDown => None,
        // KeyCode::VolumeUp => None,
        // KeyCode::WWWHome => None,
        // KeyCode::PowerOnTestOk => None,
        // KeyCode::TooManyKeys => None,
        // KeyCode::RControl2 => None,
        // KeyCode::RAlt2 => None,
    };

    return zxkey_event.map(|k| Event::ZXKey(k, pressed))
}

